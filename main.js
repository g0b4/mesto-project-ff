(()=>{"use strict";var t=document.forms["edit-profile"],e=document.forms["new-place"],n=document.forms["edit-avatar"],r=document.forms["delete-card"],o=document.querySelector(".popup_type_image"),c=document.querySelector(".profile__edit-button"),a=document.querySelector(".profile__add-button"),i=Array.from(document.querySelectorAll(".popup")),u=document.querySelector(".popup_type_edit"),l=document.querySelector(".popup_type_new-card"),s=document.querySelector(".popup_type_avatar"),d=document.querySelector(".popup_type_delete-card"),f=document.querySelector(".places__list"),p=document.querySelector(".profile__image"),m=document.querySelector(".popup__input_type_name"),v=document.querySelector(".popup__input_type_description"),_=document.querySelector(".profile__title"),y=document.querySelector(".profile__description"),h=e.elements["place-name"],b=e.elements.link,S=document.querySelector(".popup__caption"),C=document.querySelector(".popup__image");function k(t){if("Escape"===t.key){var e=i.find((function(t){return t.classList.contains("popup_is-opened")}));e&&q(e)}}function g(t){t.target===t.currentTarget&&q(t.target)}function E(t){q(t.target.closest(".popup"))}function L(t){t.classList.add("popup_is-opened"),document.addEventListener("keydown",k)}function q(t){t&&(t.classList.remove("popup_is-opened"),document.removeEventListener("keydown",k))}var A="users/me",x="cards",T="likes",w={Authorization:"91d48046-a5c2-4712-8b95-16299f39ae64","Content-Type":"application/json"},j=function(t){return t.ok?t.json():Promise.reject("Error: ".concat(t.status))};function O(t,e){return fetch("".concat("https://nomoreparties.co/v1/wff-cohort-24","/").concat(t),e).then(j)}function B(t,e,n){var r=e.deleteCardCallback,c=e.openImageCallback,a=e.handleLikesCallback,i=document.querySelector("#card-template").content.querySelector(".places__item").cloneNode(!0),u=i.querySelector(".card__image"),l=i.querySelector(".card__title"),s=i.querySelector(".card__like-button"),d=i.querySelector(".card__like-counter");u.src=t.link,u.alt=t.name,l.textContent=t.name,d.textContent=t.likes.length;var f=i.querySelector(".card__delete-button");return n!==t.owner._id?f.style.display="none":f.addEventListener("click",(function(){var e=t._id;r(i,e)})),t.likes.some((function(t){return t._id===n}))&&s.classList.add("card__like-button_is-active"),s.addEventListener("click",(function(){a(d,s,t)})),u.addEventListener("click",(function(){c(u,C,S,o)})),i}var P,I,D={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".button",inactiveButtonClass:"button_inactive",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},M=function(t,e,n){var r=t.querySelector(".".concat(e.id,"-error"));r&&(e.classList.remove(n.inputErrorClass),r.classList.remove(n.errorClass),r.textContent="")},N=function(t,e,n){!function(t){return t.some((function(t){return!t.validity.valid}))}(t)?(n.removeAttribute("disabled",!1),n.classList.remove(e.inactiveButtonClass)):(n.setAttribute("disabled",!0),n.classList.add(e.inactiveButtonClass))};function H(t,e){var n=Array.from(t.querySelectorAll(e.inputSelector)),r=t.querySelector(e.submitButtonSelector);n.forEach((function(n){return M(t,n,e)})),N(n,e,r)}function J(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Сохранить",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Сохранение...";e.textContent=t?r:n}function G(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Сохранение...";e.preventDefault();var r=e.submitter,o=r.textContent;J(!0,r,o,n),t().then((function(){e.target.reset()})).catch((function(t){console.error("Ошибка: ".concat(t))})).finally((function(){J(!1,r,o,n)}))}function U(){m.value=_.textContent,v.value=y.textContent}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}!function(t){Array.from(document.querySelectorAll(t.formSelector)).forEach((function(e){!function(t,e){var n=Array.from(t.querySelectorAll(e.inputSelector)),r=t.querySelector(e.submitButtonSelector);n.forEach((function(o){o.addEventListener("input",(function(){!function(t,e,n){e.validity.patternMismatch?e.setCustomValidity(e.dataset.error):e.setCustomValidity(""),e.validity.valid?M(t,e,n):function(t,e,n){var r=t.querySelector(".".concat(e.id,"-error"));e.classList.add(n.inputErrorClass),r.textContent=e.validationMessage,r.classList.add(n.errorClass)}(t,e,n)}(t,o,e),N(n,e,r)}))}))}(e,t)}))}(D);var z={deleteCardCallback:function(t,e){P=t,I=e,L(d)},openImageCallback:function(t,e,n,r){e.src=t.src,e.alt=t.alt,n.textContent=t.alt,L(r)},handleLikesCallback:function(t,e,n){e.classList.contains("card__like-button_is-active")?function(t){return O("".concat(x,"/").concat(T,"/").concat(t),{method:"DELETE",headers:w})}(n._id).then((function(n){e.classList.toggle("card__like-button_is-active"),t.textContent=n.likes.length})).catch((function(t){console.error("Произошла ошибка при удалении лайка:",t)})):function(t){return O("".concat(x,"/").concat(T,"/").concat(t),{method:"PUT",headers:w})}(n._id).then((function(n){e.classList.toggle("card__like-button_is-active"),t.textContent=n.likes.length})).catch((function(t){console.error("Произошла ошибка при добавлении лайка:",t)}))}};c.addEventListener("click",(function(){H(t,D),U(),L(u)})),a.addEventListener("click",(function(){H(l,D),L(l)})),p.addEventListener("click",(function(){H(s,D),L(s)})),i.forEach((function(t){var e=t.querySelector(".popup__close");t.addEventListener("click",g),e.addEventListener("click",E)}));var $="";u.addEventListener("submit",(function(t){G((function(){var e=m.value,n=v.value;return function(t,e){return O(A,{method:"PATCH",headers:w,body:JSON.stringify({name:t,about:e})})}(e,n).then((function(r){_.textContent=r.name,y.textContent=r.about,console.dir(e,n),U(),q(t.target.closest(".popup_is-opened"))}))}),t)})),l.addEventListener("submit",(function(t){!function(t,e,n){G((function(){return(t=h.value,r=b.value,O(x,{method:"POST",headers:w,body:JSON.stringify({name:t,link:r})})).then((function(t){var r=B(t,e,n);f.prepend(r),q(l)}));var t,r}),t)}(t,z,$)})),s.addEventListener("submit",(function(t){G((function(){return(t=n.elements["avatar-link"].value,O("".concat(A,"/avatar"),{method:"PATCH",headers:w,body:JSON.stringify({avatar:t})})).then((function(t){p.setAttribute("style","background-image: url('".concat(t.avatar,"')")),q(s)}));var t}),t)})),r.addEventListener("submit",(function(t){t.preventDefault(),function(t,e){(function(t){return O("".concat(x,"/").concat(t),{method:"DELETE",headers:w})})(e).then((function(){t.remove(),q(d)})).catch((function(t){console.error("Произошла ошибка при удалении карточки:",t)}))}(P,I)})),Promise.all([O(A,{method:"GET",headers:w}),O(x,{method:"GET",headers:w})]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,c,a,i=[],u=!0,l=!1;try{if(c=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=c.call(n)).done)&&(i.push(r.value),i.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return V(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],c=r[1];!function(t){_.textContent=t.name,y.textContent=t.about,p.setAttribute("style","background-image: url('".concat(t.avatar,"')")),$=t._id}(o),function(t,e,n){f.innerHTML="",t.forEach((function(t){var r=B(t,e,n);f.appendChild(r)}))}(c,z,o._id)})).catch((function(t){console.error("Ошибка при загрузке данных:",t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkJULFNBQXFCeEcsRUFBT0MsRUFBaUJDLEdBQ2xEbEQsRUFBVzBKLFVBQVksR0FDdkIxRyxFQUFNaUQsU0FBUSxTQUFDNkMsR0FDYixJQUFNeEYsRUFBY1AsRUFBVytGLEVBQU03RixFQUFpQkMsR0FDdERsRCxFQUFXMkosWUFBWXJHLEVBQ3pCLEdBQ0YsQ0FjSXNHLENBQVk1RyxFQUFPQyxFQUFpQnVHLEVBQUtuRixJQUMzQyxJQUNDeUMsT0FBTSxTQUFDQyxHQUNOQyxRQUFRQyxNQUFNLDhCQUErQkYsRUFDL0MsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvLXByb2plY3QtZmYtbWFpbi8uL3NyYy9zY3JpcHRzL2NvbnN0YXRzLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYtbWFpbi8uL3NyYy9zY3JpcHRzL21vZGFsLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYtbWFpbi8uL3NyYy9zY3JpcHRzL2FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLW1haW4vLi9zcmMvc2NyaXB0cy9jYXJkLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYtbWFpbi8uL3NyYy9zY3JpcHRzL3ZhbGlkYXRpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8tcHJvamVjdC1mZi1tYWluLy4vc3JjL3NjcmlwdHMvZm9ybXMvZGVsZXRlRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLW1haW4vLi9zcmMvc2NyaXB0cy9mb3Jtcy91dGlsc0Zvcm1zLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYtbWFpbi8uL3NyYy9zY3JpcHRzL2Zvcm1zL2VkaXRGb3JtLmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYtbWFpbi8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLXByb2plY3QtZmYtbWFpbi8uL3NyYy9zY3JpcHRzL2Zvcm1zL25ld0NhcmRzRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by1wcm9qZWN0LWZmLW1haW4vLi9zcmMvc2NyaXB0cy9mb3Jtcy9hdmF0YXJGb3JtLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEB0b2RvIERPTVxyXG5leHBvcnQgY29uc3QgZWRpdEZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJlZGl0LXByb2ZpbGVcIl07XHJcbmV4cG9ydCBjb25zdCBuZXdQbGFjZUZvcm1FbGVtZW50ID0gZG9jdW1lbnQuZm9ybXNbXCJuZXctcGxhY2VcIl07XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJGb3JtRWxlbWVudCA9IGRvY3VtZW50LmZvcm1zW1wiZWRpdC1hdmF0YXJcIl07XHJcbmV4cG9ydCBjb25zdCBkZWxldGVDYXJkRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiZGVsZXRlLWNhcmRcIl07XHJcblxyXG4vLyBAdG9kbyDQmtC90L7Qv9C60LhcclxuZXhwb3J0IGNvbnN0IGJ1dHRvblR5cGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfaW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG4vLyBAdG9kbyDQn9C+0L/QsNC/0YtcclxuZXhwb3J0IGNvbnN0IHBvcHVwc0FycmF5ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXAnKSk7XHJcbmV4cG9ydCBjb25zdCBlZGl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2VkaXQnKTtcclxuZXhwb3J0IGNvbnN0IG5ld0NhcmRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfbmV3LWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfYXZhdGFyXCIpO1xyXG5leHBvcnQgY29uc3QgZGVsZXRlUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmRcIik7XHJcblxyXG4vLyBAdG9kbyDQmtC+0L3RgtC10LnQvdC10YAg0LTQu9GPINC60LDRgNGC0L7Rh9C10LpcclxuZXhwb3J0IGNvbnN0IHBsYWNlc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlc19fbGlzdFwiKTtcclxuXHJcbi8vIEB0b2RvINCf0L7Qu9GPINGE0L7RgNC80YtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9kZXNjcmlwdGlvbicpO1xyXG5cclxuLy8gQHRvZG8g0K3Qu9C10LzQtdC90YLRiywg0LrRg9C00LAg0LTQvtC70LbQvdGLINCx0YvRgtGMINCy0YHRgtCw0LLQu9C10L3RiyDQt9C90LDRh9C10L3QuNGPINC/0L7Qu9C10LlcclxuZXhwb3J0IGNvbnN0IHVzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xyXG5leHBvcnQgY29uc3QgdXNlckpvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcclxuXHJcbi8vIEB0b2RvINCf0L7Qu9GD0YfQsNC10Lwg0LfQvdCw0YfQtdC90LjRjyDQv9C+0LvQtdC5INGE0L7RgNC80YtcclxuZXhwb3J0IGNvbnN0IG5ld1BsYWNlTmFtZUlucHV0ID0gbmV3UGxhY2VGb3JtRWxlbWVudC5lbGVtZW50c1tcInBsYWNlLW5hbWVcIl07XHJcbmV4cG9ydCBjb25zdCBuZXdMaW5rSW5wdXQgPSBuZXdQbGFjZUZvcm1FbGVtZW50LmVsZW1lbnRzLmxpbms7XHJcblxyXG4vLyBAdG9kbyDQn9C+0L/QsNC/INGBINC40LfQvtCx0YDQsNC20LXQvdC40LXQvFxyXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZUNhcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jYXB0aW9uXCIpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlXCIpOyIsImltcG9ydCB7IHBvcHVwc0FycmF5IH0gZnJvbSBcIi4vY29uc3RhdHMuanNcIjtcclxuZnVuY3Rpb24gaGFuZGxlRXNjQ2xpY2soZXZ0KSB7XHJcbiAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgIGNvbnN0IG9wZW5lZFBvcHVwID0gcG9wdXBzQXJyYXkuZmluZCgocG9wdXApID0+XHJcbiAgICAgIHBvcHVwLmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX2lzLW9wZW5lZFwiKVxyXG4gICAgKTtcclxuICAgIGlmIChvcGVuZWRQb3B1cCkge1xyXG4gICAgICBjbG9zZVBvcHVwKG9wZW5lZFBvcHVwKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU92ZXJsYXlDbGljayhldnQpIHtcclxuICBpZiAoZXZ0LnRhcmdldCA9PT0gZXZ0LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgIGNsb3NlUG9wdXAoZXZ0LnRhcmdldCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVDbG9zZUJ1dHRvbkNsaWNrKGV2dCkge1xyXG4gIGNvbnN0IGJ1dHRvbiA9IGV2dC50YXJnZXQ7XHJcbiAgY29uc3QgcG9wdXAgPSBidXR0b24uY2xvc2VzdChcIi5wb3B1cFwiKTtcclxuICBjbG9zZVBvcHVwKHBvcHVwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3BlblBvcHVwKHBvcHVwKSB7XHJcbiAgcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX2lzLW9wZW5lZFwiKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NDbGljayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlUG9wdXAocG9wdXApIHtcclxuICBpZiAocG9wdXApIHtcclxuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9pcy1vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVFc2NDbGljayk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBoYW5kbGVPdmVybGF5Q2xpY2ssIGNsb3NlUG9wdXAsIG9wZW5Qb3B1cCwgaGFuZGxlQ2xvc2VCdXR0b25DbGljayB9O1xyXG4iLCJjb25zdCBCQVNFX1VSTCA9IFwiaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxL3dmZi1jb2hvcnQtMjRcIjtcclxuXHJcbmNvbnN0IGFwaVJvdXRlcyA9IHtcclxuICB1c2VyOiBcInVzZXJzL21lXCIsXHJcbiAgY2FyZHM6IFwiY2FyZHNcIixcclxuICBsaWtlczogXCJsaWtlc1wiLFxyXG59O1xyXG5cclxuY29uc3QgaGVhZGVycyA9IHtcclxuICBBdXRob3JpemF0aW9uOiBcIjkxZDQ4MDQ2LWE1YzItNDcxMi04Yjk1LTE2Mjk5ZjM5YWU2NFwiLFxyXG4gIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG59O1xyXG5cclxuY29uc3QgY2hlY2tEYXRhID0gKGRhdGEpID0+IHtcclxuICBpZiAoZGF0YS5vaykge1xyXG4gICAgcmV0dXJuIGRhdGEuanNvbigpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke2RhdGEuc3RhdHVzfWApO1xyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHJlcXVlc3QoZW5kcG9pbnQsIG9wdGlvbnMpIHtcclxuICByZXR1cm4gZmV0Y2goYCR7QkFTRV9VUkx9LyR7ZW5kcG9pbnR9YCwgb3B0aW9ucykudGhlbihjaGVja0RhdGEpO1xyXG59XHJcblxyXG5jb25zdCBnZXRDYXJkcyA9ICgpID0+IHtcclxuICByZXR1cm4gcmVxdWVzdChhcGlSb3V0ZXMuY2FyZHMsIHtcclxuICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgIGhlYWRlcnMsXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBwb3N0Q2FyZCA9IChuYW1lLCBsaW5rKSA9PiB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoYXBpUm91dGVzLmNhcmRzLCB7XHJcbiAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgaGVhZGVycyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgbmFtZSxcclxuICAgICAgbGluayxcclxuICAgIH0pLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZGVsZXRlQ2FyZEFwaSA9IChpZCkgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KGAke2FwaVJvdXRlcy5jYXJkc30vJHtpZH1gLCB7XHJcbiAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICBoZWFkZXJzLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0VXNlciA9ICgpID0+IHtcclxuICByZXR1cm4gcmVxdWVzdChhcGlSb3V0ZXMudXNlciwge1xyXG4gICAgbWV0aG9kOiBcIkdFVFwiLFxyXG4gICAgaGVhZGVycyxcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHBhdGNoVXNlciA9IChuYW1lLCBhYm91dCkgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KGFwaVJvdXRlcy51c2VyLCB7XHJcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgIGhlYWRlcnMsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgIG5hbWUsXHJcbiAgICAgIGFib3V0LFxyXG4gICAgfSksXHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRMaWtlQ2FyZCA9IChpZCkgPT4ge1xyXG4gIHJldHVybiByZXF1ZXN0KGAke2FwaVJvdXRlcy5jYXJkc30vJHthcGlSb3V0ZXMubGlrZXN9LyR7aWR9YCwge1xyXG4gICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgaGVhZGVycyxcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IGRlbGV0ZUxpa2VDYXJkID0gKGlkKSA9PiB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoYCR7YXBpUm91dGVzLmNhcmRzfS8ke2FwaVJvdXRlcy5saWtlc30vJHtpZH1gLCB7XHJcbiAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICBoZWFkZXJzLFxyXG4gIH0pO1xyXG59O1xyXG5cclxuY29uc3QgcGF0Y2hBdmF0YXIgPSAoYXZhdGFyKSA9PiB7XHJcbiAgcmV0dXJuIHJlcXVlc3QoYCR7YXBpUm91dGVzLnVzZXJ9L2F2YXRhcmAsIHtcclxuICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgaGVhZGVycyxcclxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyOiBhdmF0YXIgfSksXHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gIGdldENhcmRzLFxyXG4gIHBvc3RDYXJkLFxyXG4gIGRlbGV0ZUNhcmRBcGksXHJcbiAgZ2V0VXNlcixcclxuICBwYXRjaFVzZXIsXHJcbiAgYWRkTGlrZUNhcmQsXHJcbiAgZGVsZXRlTGlrZUNhcmQsXHJcbiAgcGF0Y2hBdmF0YXIsXHJcbn07XHJcbiIsImltcG9ydCB7IGRlbGV0ZUxpa2VDYXJkLCBhZGRMaWtlQ2FyZCB9IGZyb20gXCIuL2FwaVwiO1xyXG5pbXBvcnQgeyBwb3B1cEltYWdlLCBwb3B1cEltYWdlQ2FwdGlvbiwgYnV0dG9uVHlwZUNhcmQgfSBmcm9tIFwiLi9jb25zdGF0c1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZHMsIGNhbGxiYWNrc09iamVjdCwgdXNlcklkKSB7XHJcbiAgY29uc3QgeyBkZWxldGVDYXJkQ2FsbGJhY2ssIG9wZW5JbWFnZUNhbGxiYWNrLCBoYW5kbGVMaWtlc0NhbGxiYWNrIH0gPVxyXG4gICAgY2FsbGJhY2tzT2JqZWN0O1xyXG5cclxuICBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIik7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VzX19pdGVtXCIpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gIGNvbnN0IGNhcmRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XHJcbiAgY29uc3QgY2FyZFRpdGxlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgY29uc3QgY2FyZExpa2VDb3VudGVyID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50ZXJcIik7XHJcblxyXG4gIGNhcmRJbWFnZS5zcmMgPSBjYXJkcy5saW5rO1xyXG4gIGNhcmRJbWFnZS5hbHQgPSBjYXJkcy5uYW1lO1xyXG4gIGNhcmRUaXRsZS50ZXh0Q29udGVudCA9IGNhcmRzLm5hbWU7XHJcbiAgY2FyZExpa2VDb3VudGVyLnRleHRDb250ZW50ID0gY2FyZHMubGlrZXMubGVuZ3RoO1xyXG4gIGNvbnN0IGRlbGV0ZUJ1dHRvbiA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcclxuXHJcbiAgaWYgKHVzZXJJZCAhPT0gY2FyZHMub3duZXIuX2lkKSB7XHJcbiAgICBkZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgY29uc3QgY2FyZElkID0gY2FyZHMuX2lkO1xyXG4gICAgICBkZWxldGVDYXJkQ2FsbGJhY2soY2FyZEVsZW1lbnQsIGNhcmRJZCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGlzTGlrZWQgPSBjYXJkcy5saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdXNlcklkKTtcclxuICBpZiAoaXNMaWtlZCkge1xyXG4gICAgY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIGNhcmRMaWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBoYW5kbGVMaWtlc0NhbGxiYWNrKGNhcmRMaWtlQ291bnRlciwgY2FyZExpa2VCdXR0b24sIGNhcmRzKTtcclxuICB9KTtcclxuXHJcbiAgY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBvcGVuSW1hZ2VDYWxsYmFjayhjYXJkSW1hZ2UsIHBvcHVwSW1hZ2UsIHBvcHVwSW1hZ2VDYXB0aW9uLCBidXR0b25UeXBlQ2FyZCk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZUxpa2VzKGNhcmRMaWtlQ291bnRlciwgY2FyZExpa2VCdXR0b24sIGNhcmRzKSB7XHJcbiAgaWYgKGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKSkge1xyXG4gICAgZGVsZXRlTGlrZUNhcmQoY2FyZHMuX2lkKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZExpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2lzLWFjdGl2ZVwiKTtcclxuICAgICAgICBjYXJkTGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSByZXMubGlrZXMubGVuZ3RoO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwINC/0YDQuCDRg9C00LDQu9C10L3QuNC4INC70LDQuMyG0LrQsDpcIiwgZXJyKTtcclxuICAgICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFkZExpa2VDYXJkKGNhcmRzLl9pZClcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNhcmRMaWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9pcy1hY3RpdmVcIik7XHJcbiAgICAgICAgY2FyZExpa2VDb3VudGVyLnRleHRDb250ZW50ID0gcmVzLmxpa2VzLmxlbmd0aDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lgg0LvQsNC4zIbQutCwOlwiLCBlcnIpO1xyXG4gICAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcImJ1dHRvbl9pbmFjdGl2ZVwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcclxufTtcclxuXHJcbmNvbnN0IHNob3dJbnB1dEVycm9yID0gKGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodmFsaWRhdGlvbkNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG59O1xyXG5cclxuY29uc3QgaGlkZUlucHV0RXJyb3IgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICBpZiAoZXJyb3JFbGVtZW50KSB7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2YWxpZGF0aW9uQ29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh2YWxpZGF0aW9uQ29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBjaGVja0lucHV0VmFsaWRpdHkgPSAoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZykgPT4ge1xyXG4gIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoKSB7XHJcbiAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoaW5wdXRFbGVtZW50LmRhdGFzZXQuZXJyb3IpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBpbnB1dEVsZW1lbnQuc2V0Q3VzdG9tVmFsaWRpdHkoXCJcIik7XHJcbiAgfVxyXG4gIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICB9IGVsc2Uge1xyXG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybUVsZW1lbnQsIGlucHV0RWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgaGFzSW52YWxpZElucHV0ID0gKGlucHV0TGlzdCkgPT4ge1xyXG4gIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICB9KTtcclxufTtcclxuXHJcbmNvbnN0IHRvZ2dsZUJ1dHRvblN0YXRlID0gKFxyXG4gIGlucHV0TGlzdCxcclxuICB2YWxpZGF0aW9uQ29uZmlnLFxyXG4gIGJ1dHRvbkVsZW1lbnRSZXR1cm5cclxuKSA9PiB7XHJcbiAgaWYgKGhhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpKSB7XHJcbiAgICBidXR0b25FbGVtZW50UmV0dXJuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgYnV0dG9uRWxlbWVudFJldHVybi5jbGFzc0xpc3QuYWRkKHZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1dHRvbkVsZW1lbnRSZXR1cm4ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgZmFsc2UpO1xyXG4gICAgYnV0dG9uRWxlbWVudFJldHVybi5jbGFzc0xpc3QucmVtb3ZlKHZhbGlkYXRpb25Db25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3Qgc2V0RXZlbnRMaXN0ZW5lcnMgPSAoZm9ybUVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmlucHV0U2VsZWN0b3IpXHJcbiAgKTtcclxuICBjb25zdCBidXR0b25FbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIHZhbGlkYXRpb25Db25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICApO1xyXG5cclxuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1FbGVtZW50LCBpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25Db25maWcpO1xyXG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIHZhbGlkYXRpb25Db25maWcsIGJ1dHRvbkVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICBjb25zdCBmb3JtRWxlbWVudExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcilcclxuICApO1xyXG5cclxuICBmb3JtRWxlbWVudExpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcclxuICAgIHNldEV2ZW50TGlzdGVuZXJzKGZvcm1FbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKTtcclxuICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNsZWFyVmFsaWRhdGlvbihmb3JtRWxlbWVudCwgdmFsaWRhdGlvbkNvbmZpZykge1xyXG4gIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHZhbGlkYXRpb25Db25maWcuaW5wdXRTZWxlY3RvcilcclxuICApO1xyXG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnRSZXR1cm4gPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgdmFsaWRhdGlvbkNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICk7XHJcblxyXG4gIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+XHJcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtRWxlbWVudCwgaW5wdXRFbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKVxyXG4gICk7XHJcbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCB2YWxpZGF0aW9uQ29uZmlnLCBidXR0b25FbGVtZW50UmV0dXJuKTtcclxufVxyXG5cclxuZXhwb3J0IHsgZW5hYmxlVmFsaWRhdGlvbiBhcyB2YWxpZGF0aW9uLCBjbGVhclZhbGlkYXRpb24gfTtcclxuIiwiaW1wb3J0IHsgZGVsZXRlQ2FyZEFwaSB9IGZyb20gXCIuLi9hcGkuanNcIjtcclxuaW1wb3J0IHsgb3BlblBvcHVwLCBjbG9zZVBvcHVwIH0gZnJvbSBcIi4uL21vZGFsLmpzXCI7XHJcbmltcG9ydCB7IGRlbGV0ZVBvcHVwIH0gZnJvbSBcIi4uL2NvbnN0YXRzLmpzXCI7XHJcblxyXG5sZXQgc2VsZWN0ZWRDYXJkO1xyXG5sZXQgaWQ7XHJcblxyXG5leHBvcnQgY29uc3Qgb3BlblBvcHVwRGVsZXRlID0gKGNhcmRFbGVtZW50LCBjYXJkSWQpID0+IHtcclxuICBzZWxlY3RlZENhcmQgPSBjYXJkRWxlbWVudDtcclxuICBpZCA9IGNhcmRJZDtcclxuICBvcGVuUG9wdXAoZGVsZXRlUG9wdXApO1xyXG59O1xyXG5cclxuY29uc3QgY2xvc2VQb3B1cERlbGV0ZSA9ICgpID0+IHtcclxuICBjbG9zZVBvcHVwKGRlbGV0ZVBvcHVwKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVDYXJkKHNlbGVjdGVkQ2FyZCwgaWQpIHtcclxuICBkZWxldGVDYXJkQXBpKGlkKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBzZWxlY3RlZENhcmQucmVtb3ZlKCk7XHJcbiAgICAgIGNsb3NlUG9wdXBEZWxldGUoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwi0J/RgNC+0LjQt9C+0YjQu9CwINC+0YjQuNCx0LrQsCDQv9GA0Lgg0YPQtNCw0LvQtdC90LjQuCDQutCw0YDRgtC+0YfQutC4OlwiLCBlcnIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVDYXJkRGVsZXRlKGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGRlbGV0ZUNhcmQoc2VsZWN0ZWRDYXJkLCBpZCk7XHJcbn0iLCJmdW5jdGlvbiByZW5kZXJMb2FkaW5nKGlzTG9hZGluZywgYnV0dG9uLCBpbml0aWFsVGV4dCA9IFwi0KHQvtGF0YDQsNC90LjRgtGMXCIsIGxvYWRpbmdUZXh0ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKSB7XHJcbiAgaWYgKGlzTG9hZGluZykge1xyXG4gICAgYnV0dG9uLnRleHRDb250ZW50ID0gbG9hZGluZ1RleHQ7XHJcbiAgfSBlbHNlIHtcclxuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGluaXRpYWxUZXh0O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChyZXF1ZXN0LCBldnQsIGxvYWRpbmdUZXh0ID0gXCLQodC+0YXRgNCw0L3QtdC90LjQtS4uLlwiKSB7XHJcbiAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGV2dC5zdWJtaXR0ZXI7XHJcbiAgY29uc3QgaW5pdGlhbFRleHQgPSBzdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XHJcbiAgcmVuZGVyTG9hZGluZyh0cnVlLCBzdWJtaXRCdXR0b24sIGluaXRpYWxUZXh0LCBsb2FkaW5nVGV4dCk7XHJcblxyXG4gIHJlcXVlc3QoKVxyXG4gICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICBldnQudGFyZ2V0LnJlc2V0KCk7IFxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYNCe0YjQuNCx0LrQsDogJHtlcnJ9YCk7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICByZW5kZXJMb2FkaW5nKGZhbHNlLCBzdWJtaXRCdXR0b24sIGluaXRpYWxUZXh0LCBsb2FkaW5nVGV4dCk7XHJcbiAgICB9KTtcclxufSIsImltcG9ydCB7IHBhdGNoVXNlciB9IGZyb20gXCIuLi9hcGkuanNcIjtcclxuaW1wb3J0IHsgY2xvc2VQb3B1cCB9IGZyb20gXCIuLi9tb2RhbC5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIG5hbWVJbnB1dCxcclxuICBqb2JJbnB1dCxcclxuICB1c2VySm9iRWxlbWVudCxcclxuICB1c2VyTmFtZUVsZW1lbnQsXHJcbn0gZnJvbSBcIi4uL2NvbnN0YXRzLmpzXCI7XHJcbmltcG9ydCB7IGhhbmRsZVN1Ym1pdCB9IGZyb20gXCIuL3V0aWxzRm9ybXMuanNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRJbml0aWFsRWRpdFByb2ZpbGVGb3JtVmFsdWVzKCkge1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudDtcclxuICBqb2JJbnB1dC52YWx1ZSA9IHVzZXJKb2JFbGVtZW50LnRleHRDb250ZW50O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdChldnQpIHtcclxuICBmdW5jdGlvbiBtYWtlUmVxdWVzdCgpIHtcclxuICAgIGNvbnN0IG5hbWUgPSBuYW1lSW5wdXQudmFsdWU7XHJcbiAgICBjb25zdCBhYm91dCA9IGpvYklucHV0LnZhbHVlO1xyXG4gICAgcmV0dXJuIHBhdGNoVXNlcihuYW1lLCBhYm91dCkudGhlbigoZGF0YVVzZXIpID0+IHtcclxuICAgICAgdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gZGF0YVVzZXIubmFtZTtcclxuICAgICAgdXNlckpvYkVsZW1lbnQudGV4dENvbnRlbnQgPSBkYXRhVXNlci5hYm91dDtcclxuICAgICAgY29uc29sZS5kaXIobmFtZSwgYWJvdXQpO1xyXG4gICAgICBzZXRJbml0aWFsRWRpdFByb2ZpbGVGb3JtVmFsdWVzKCk7XHJcbiAgICAgIGNsb3NlUG9wdXAoZXZ0LnRhcmdldC5jbG9zZXN0KFwiLnBvcHVwX2lzLW9wZW5lZFwiKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgZXZ0KTtcclxufVxyXG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7XG4gIGhhbmRsZU92ZXJsYXlDbGljayxcbiAgb3BlblBvcHVwLFxuICBoYW5kbGVDbG9zZUJ1dHRvbkNsaWNrLFxufSBmcm9tIFwiLi9tb2RhbC5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2FyZCwgaGFuZGxlTGlrZXMgfSBmcm9tIFwiLi9jYXJkLmpzXCI7XG5pbXBvcnQge1xuICBwb3B1cHNBcnJheSxcbiAgcGxhY2VzTGlzdCxcbiAgZWRpdEZvcm0sXG4gIGVkaXRGb3JtRWxlbWVudCxcbiAgcHJvZmlsZUVkaXRCdXR0b24sXG4gIHVzZXJOYW1lRWxlbWVudCxcbiAgdXNlckpvYkVsZW1lbnQsXG4gIG5ld0NhcmRGb3JtLFxuICBwcm9maWxlQWRkQnV0dG9uLFxuICBhdmF0YXJGb3JtLFxuICBhdmF0YXJJbWFnZSxcbiAgZGVsZXRlQ2FyZEZvcm0sXG59IGZyb20gXCIuL2NvbnN0YXRzLmpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0aW9uLCBjbGVhclZhbGlkYXRpb24sIHZhbGlkYXRpb25Db25maWcgfSBmcm9tIFwiLi92YWxpZGF0aW9uLmpzXCI7XG5pbXBvcnQgeyBnZXRDYXJkcywgZ2V0VXNlciB9IGZyb20gXCIuL2FwaS5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlQ2FyZERlbGV0ZSwgb3BlblBvcHVwRGVsZXRlIH0gZnJvbSBcIi4vZm9ybXMvZGVsZXRlRm9ybS5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCB9IGZyb20gXCIuL2Zvcm1zL2F2YXRhckZvcm0uanNcIjtcbmltcG9ydCB7IGhhbmRsZU5ld0NhcmRGb3JtU3VibWl0IH0gZnJvbSBcIi4vZm9ybXMvbmV3Q2FyZHNGb3JtLmpzXCI7XG5pbXBvcnQge1xuICBoYW5kbGVGb3JtU3VibWl0LFxuICBzZXRJbml0aWFsRWRpdFByb2ZpbGVGb3JtVmFsdWVzLFxufSBmcm9tIFwiLi9mb3Jtcy9lZGl0Rm9ybS5qc1wiO1xuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQstCw0LvQuNC00LDRhtC40LhcbnZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZyk7XG5cbmZ1bmN0aW9uIG9wZW5JbWFnZVBvcHVwKGNhcmRJbWcsIHBvcHVwSW1hZ2UsIHBvcHVwSW1hZ2VDYXB0aW9uLCBwb3B1cFR5cGUpIHtcbiAgcG9wdXBJbWFnZS5zcmMgPSBjYXJkSW1nLnNyYztcbiAgcG9wdXBJbWFnZS5hbHQgPSBjYXJkSW1nLmFsdDtcbiAgcG9wdXBJbWFnZUNhcHRpb24udGV4dENvbnRlbnQgPSBjYXJkSW1nLmFsdDtcbiAgb3BlblBvcHVwKHBvcHVwVHlwZSk7XG59XG5cbmNvbnN0IGNhbGxiYWNrc09iamVjdCA9IHtcbiAgZGVsZXRlQ2FyZENhbGxiYWNrOiBvcGVuUG9wdXBEZWxldGUsXG4gIG9wZW5JbWFnZUNhbGxiYWNrOiBvcGVuSW1hZ2VQb3B1cCxcbiAgaGFuZGxlTGlrZXNDYWxsYmFjazogaGFuZGxlTGlrZXMsXG59O1xuXG4vLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINC/0YDQvtGE0LjQu9GPXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbGVhclZhbGlkYXRpb24oZWRpdEZvcm1FbGVtZW50LCB2YWxpZGF0aW9uQ29uZmlnKTtcbiAgc2V0SW5pdGlhbEVkaXRQcm9maWxlRm9ybVZhbHVlcygpO1xuICBvcGVuUG9wdXAoZWRpdEZvcm0pO1xufSk7XG5cbi8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC00L7QsdCw0LLQu9C10L3QuNGPINC90L7QstC+0Lkg0LrQsNGA0YLQvtGH0LrQuFxucHJvZmlsZUFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbGVhclZhbGlkYXRpb24obmV3Q2FyZEZvcm0sIHZhbGlkYXRpb25Db25maWcpO1xuICBvcGVuUG9wdXAobmV3Q2FyZEZvcm0pO1xufSk7XG5cbi8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC+0LHQvdC+0LLQu9C10L3QuNGPINCw0LLQsNGC0LDRgNCwXG5hdmF0YXJJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjbGVhclZhbGlkYXRpb24oYXZhdGFyRm9ybSwgdmFsaWRhdGlvbkNvbmZpZyk7XG4gIG9wZW5Qb3B1cChhdmF0YXJGb3JtKTtcbn0pO1xuXG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0LfQsNC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0L7QslxucG9wdXBzQXJyYXkuZm9yRWFjaCgocG9wdXApID0+IHtcbiAgY29uc3QgY2xvc2VCdXR0b24gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19jbG9zZVwiKTtcbiAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZU92ZXJsYXlDbGljayk7XG4gIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbG9zZUJ1dHRvbkNsaWNrKTtcbn0pO1xuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5sZXQgdXNlcklkID0gXCJcIjtcbmZ1bmN0aW9uIHNldFVzZXJJbmZvKHVzZXIpIHtcbiAgdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gdXNlci5uYW1lO1xuICB1c2VySm9iRWxlbWVudC50ZXh0Q29udGVudCA9IHVzZXIuYWJvdXQ7XG4gIGF2YXRhckltYWdlLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7dXNlci5hdmF0YXJ9JylgKTtcbiAgdXNlcklkID0gdXNlci5faWQ7XG59XG5cbi8vINCk0YPQvdC60YbQuNGPINC00LvRjyDQvtGC0YDQuNGB0L7QstC60Lgg0LrQsNGA0YLQvtGH0LXQulxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckNhcmRzKGNhcmRzLCBjYWxsYmFja3NPYmplY3QsIHVzZXJJZCkge1xuICBwbGFjZXNMaXN0LmlubmVySFRNTCA9IFwiXCI7XG4gIGNhcmRzLmZvckVhY2goKGNhcmQpID0+IHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoY2FyZCwgY2FsbGJhY2tzT2JqZWN0LCB1c2VySWQpO1xuICAgIHBsYWNlc0xpc3QuYXBwZW5kQ2hpbGQoY2FyZEVsZW1lbnQpO1xuICB9KTtcbn1cblxuLy8g0J7QsdGA0LDQsdC+0YLRh9C40LrQuCDQvtGC0L/RgNCw0LLQutC4INGE0L7RgNC8XG5lZGl0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUZvcm1TdWJtaXQpO1xubmV3Q2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgaGFuZGxlTmV3Q2FyZEZvcm1TdWJtaXQoZXZlbnQsIGNhbGxiYWNrc09iamVjdCwgdXNlcklkKTtcbn0pO1xuYXZhdGFyRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUF2YXRhckZvcm1TdWJtaXQpO1xuZGVsZXRlQ2FyZEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVDYXJkRGVsZXRlKTtcblxuLy8g0JfQsNCz0YDRg9C30LrQsCDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC60LDRgNGC0L7Rh9C10LpcblByb21pc2UuYWxsKFtnZXRVc2VyKCksIGdldENhcmRzKCldKVxuICAudGhlbigoW3VzZXIsIGNhcmRzXSkgPT4ge1xuICAgIHNldFVzZXJJbmZvKHVzZXIpO1xuICAgIHJlbmRlckNhcmRzKGNhcmRzLCBjYWxsYmFja3NPYmplY3QsIHVzZXIuX2lkKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKFwi0J7RiNC40LHQutCwINC/0YDQuCDQt9Cw0LPRgNGD0LfQutC1INC00LDQvdC90YvRhTpcIiwgZXJyKTtcbiAgfSk7IiwiaW1wb3J0IHsgcG9zdENhcmQgfSBmcm9tIFwiLi4vYXBpLmpzXCI7XHJcbmltcG9ydCB7IGNyZWF0ZUNhcmQgfSBmcm9tIFwiLi4vY2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBjbG9zZVBvcHVwIH0gZnJvbSBcIi4uL21vZGFsLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgbmV3Q2FyZEZvcm0sXHJcbiAgbmV3UGxhY2VOYW1lSW5wdXQsXHJcbiAgbmV3TGlua0lucHV0LFxyXG4gIHBsYWNlc0xpc3QsXHJcbn0gZnJvbSBcIi4uL2NvbnN0YXRzLmpzXCI7XHJcbmltcG9ydCB7IGhhbmRsZVN1Ym1pdCB9IGZyb20gXCIuL3V0aWxzRm9ybXMuanNcIjtcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoaXRlbSwgbWV0aG9kID0gXCJwcmVwZW5kXCIpIHtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoaXRlbSwgY2FsbGJhY2tzKTtcclxuICBjYXJkTGlzdFttZXRob2RdKGNhcmRFbGVtZW50KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU5ld0NhcmRGb3JtU3VibWl0KGV2ZW50LCBjYWxsYmFja3NPYmplY3QsIHVzZXJJZCkge1xyXG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xyXG4gICAgcmV0dXJuIHBvc3RDYXJkKG5ld1BsYWNlTmFtZUlucHV0LnZhbHVlLCBuZXdMaW5rSW5wdXQudmFsdWUpLnRoZW4oXHJcbiAgICAgIChjYXJkKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmQsIGNhbGxiYWNrc09iamVjdCwgdXNlcklkKTtcclxuICAgICAgICBwbGFjZXNMaXN0LnByZXBlbmQobmV3Q2FyZEVsZW1lbnQpO1xyXG4gICAgICAgIGNsb3NlUG9wdXAobmV3Q2FyZEZvcm0pO1xyXG4gICAgICB9XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldmVudCk7XHJcbn1cclxuIiwiaW1wb3J0IHsgYXZhdGFyRm9ybUVsZW1lbnQsIGF2YXRhckltYWdlLCBhdmF0YXJGb3JtIH0gZnJvbSBcIi4uL2NvbnN0YXRzLmpzXCI7XHJcbmltcG9ydCB7IHBhdGNoQXZhdGFyIH0gZnJvbSBcIi4uL2FwaS5qc1wiO1xyXG5pbXBvcnQgeyBjbG9zZVBvcHVwIH0gZnJvbSBcIi4uL21vZGFsLmpzXCI7XHJcbmltcG9ydCB7IGhhbmRsZVN1Ym1pdCB9IGZyb20gXCIuL3V0aWxzRm9ybXMuanNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGV2ZW50KSB7XHJcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XHJcbiAgICBjb25zdCBhdmF0YXIgPSBhdmF0YXJGb3JtRWxlbWVudC5lbGVtZW50c1tcImF2YXRhci1saW5rXCJdLnZhbHVlO1xyXG4gICAgcmV0dXJuIHBhdGNoQXZhdGFyKGF2YXRhcikudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGF2YXRhckltYWdlLnNldEF0dHJpYnV0ZShcclxuICAgICAgICBcInN0eWxlXCIsXHJcbiAgICAgICAgYGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtyZXMuYXZhdGFyfScpYFxyXG4gICAgICApO1xyXG4gICAgICBjbG9zZVBvcHVwKGF2YXRhckZvcm0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuIFxyXG4gIGhhbmRsZVN1Ym1pdChtYWtlUmVxdWVzdCwgZXZlbnQpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJlZGl0Rm9ybUVsZW1lbnQiLCJkb2N1bWVudCIsImZvcm1zIiwibmV3UGxhY2VGb3JtRWxlbWVudCIsImF2YXRhckZvcm1FbGVtZW50IiwiZGVsZXRlQ2FyZEZvcm0iLCJidXR0b25UeXBlQ2FyZCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVBZGRCdXR0b24iLCJwb3B1cHNBcnJheSIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlZGl0Rm9ybSIsIm5ld0NhcmRGb3JtIiwiYXZhdGFyRm9ybSIsImRlbGV0ZVBvcHVwIiwicGxhY2VzTGlzdCIsImF2YXRhckltYWdlIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJ1c2VyTmFtZUVsZW1lbnQiLCJ1c2VySm9iRWxlbWVudCIsIm5ld1BsYWNlTmFtZUlucHV0IiwiZWxlbWVudHMiLCJuZXdMaW5rSW5wdXQiLCJsaW5rIiwicG9wdXBJbWFnZUNhcHRpb24iLCJwb3B1cEltYWdlIiwiaGFuZGxlRXNjQ2xpY2siLCJldnQiLCJrZXkiLCJvcGVuZWRQb3B1cCIsImZpbmQiLCJwb3B1cCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiY2xvc2VQb3B1cCIsImhhbmRsZU92ZXJsYXlDbGljayIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJoYW5kbGVDbG9zZUJ1dHRvbkNsaWNrIiwiY2xvc2VzdCIsIm9wZW5Qb3B1cCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXBpUm91dGVzIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJjaGVja0RhdGEiLCJkYXRhIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImNvbmNhdCIsInN0YXR1cyIsInJlcXVlc3QiLCJlbmRwb2ludCIsIm9wdGlvbnMiLCJmZXRjaCIsInRoZW4iLCJjcmVhdGVDYXJkIiwiY2FyZHMiLCJjYWxsYmFja3NPYmplY3QiLCJ1c2VySWQiLCJkZWxldGVDYXJkQ2FsbGJhY2siLCJvcGVuSW1hZ2VDYWxsYmFjayIsImhhbmRsZUxpa2VzQ2FsbGJhY2siLCJjYXJkRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJjYXJkSW1hZ2UiLCJjYXJkVGl0bGUiLCJjYXJkTGlrZUJ1dHRvbiIsImNhcmRMaWtlQ291bnRlciIsInNyYyIsImFsdCIsIm5hbWUiLCJ0ZXh0Q29udGVudCIsImxpa2VzIiwibGVuZ3RoIiwiZGVsZXRlQnV0dG9uIiwib3duZXIiLCJfaWQiLCJzdHlsZSIsImRpc3BsYXkiLCJjYXJkSWQiLCJzb21lIiwibGlrZSIsInNlbGVjdGVkQ2FyZCIsImlkIiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtRWxlbWVudCIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWxlbWVudFJldHVybiIsInZhbGlkaXR5IiwidmFsaWQiLCJoYXNJbnZhbGlkSW5wdXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJjbGVhclZhbGlkYXRpb24iLCJmb3JFYWNoIiwicmVuZGVyTG9hZGluZyIsImlzTG9hZGluZyIsImJ1dHRvbiIsImluaXRpYWxUZXh0IiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwibG9hZGluZ1RleHQiLCJoYW5kbGVTdWJtaXQiLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdEJ1dHRvbiIsInN1Ym1pdHRlciIsInJlc2V0IiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJmaW5hbGx5Iiwic2V0SW5pdGlhbEVkaXRQcm9maWxlRm9ybVZhbHVlcyIsInZhbHVlIiwiYnV0dG9uRWxlbWVudCIsInBhdHRlcm5NaXNtYXRjaCIsInNldEN1c3RvbVZhbGlkaXR5IiwiZGF0YXNldCIsInZhbGlkYXRpb25NZXNzYWdlIiwic2hvd0lucHV0RXJyb3IiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJzZXRFdmVudExpc3RlbmVycyIsInZhbGlkYXRpb24iLCJjYXJkSW1nIiwicG9wdXBUeXBlIiwibWV0aG9kIiwiZGVsZXRlTGlrZUNhcmQiLCJyZXMiLCJ0b2dnbGUiLCJhZGRMaWtlQ2FyZCIsImNsb3NlQnV0dG9uIiwiYWJvdXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInBhdGNoVXNlciIsImRhdGFVc2VyIiwiZGlyIiwiZXZlbnQiLCJjYXJkIiwibmV3Q2FyZEVsZW1lbnQiLCJwcmVwZW5kIiwiaGFuZGxlTmV3Q2FyZEZvcm1TdWJtaXQiLCJhdmF0YXIiLCJkZWxldGVDYXJkQXBpIiwiZGVsZXRlQ2FyZCIsImFsbCIsIl9yZWYiLCJfcmVmMiIsInVzZXIiLCJzZXRVc2VySW5mbyIsImlubmVySFRNTCIsImFwcGVuZENoaWxkIiwicmVuZGVyQ2FyZHMiXSwic291cmNlUm9vdCI6IiJ9